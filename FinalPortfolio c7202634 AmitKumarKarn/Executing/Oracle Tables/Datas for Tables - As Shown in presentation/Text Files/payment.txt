DROP TABLE PAYMENT CASCADE CONSTRAINTS;
DROP SEQUENCE PAYMENT_sequence;

CREATE TABLE PAYMENT(
	payment_id INTEGER NOT NULL,
	payment_status VARCHAR(50),
	payment_type VARCHAR(50),
	payment_date_time TIMESTAMP,
	payment_amount REAL,
	user_id INTEGER,
	CONSTRAINT PK_PAYMENT PRIMARY KEY (payment_id),
	FOREIGN KEY (user_id) REFERENCES USERS (user_id)
);

CREATE SEQUENCE PAYMENT_sequence;

CREATE OR REPLACE TRIGGER PAYMENT_on_insert
  BEFORE INSERT ON PAYMENT
  FOR EACH ROW
BEGIN
  SELECT PAYMENT_sequence.nextval
  INTO :new.payment_id
  FROM dual;
END;
/